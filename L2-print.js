"use strict";$(function(){function e(e){return"function"==typeof e&&e._html_}var r,a,t,i,n,s,o,l,c,p,f,d=0,u=0,h=0;"wp"===L2.runningIn?(t=4,i=1e4,n=1e6,s=5e5,o=["#ff0000","#1e90ff","#00cc00","#ee00ee","#dddd00","#33eeee","#FA8072","#90a0b0","#3CB371","#FFA500","#ddccbb","#a0a000"],l=390,c=260,p=240,f=160):"nw"!==L2.runningIn&&"br"!==L2.runningIn||(a=!0,t=L2.ide.dp,i=L2.ide.maxPrint,n=L2.ide.maxMag,s=L2.ide.maxPlot,o=L2.ide.plotColors,l=L2.ide.oputPlotWidth,c=L2.ide.oputPlotHeight,p=L2.ide.oputPlotWidthIn,f=L2.ide.oputPlotHeightIn),L2.aux.prt=function(s,o,l,c,p){function f(){function e(){if(1==i||2==i||3==i||4==i)throw new Error("cannot show in-plots in plot pane")}var r,t,i,n=o.length;if(3===n){if(t=o[2],!t.rk||1!==t.c||1!==t.p)throw new Error("dictionary expected");"printDetail"in t.rk&&(l=L2.sca(t.v[t.rk.printDetail])),"put"in t.rk&&(i=L2.sca(t.v[t.rk.put])),a?e():"addAttr"in t.rk&&(p=L2.sca(t.v[t.rk.addAttr]))}else if(n>3){for(r=2;r<n;r+=2)if("printDetail"===o[r]){l=L2.sca(o[r+1]);break}for(r=2;r<n;r+=2)if("put"===o[r]){i=L2.sca(o[r+1]);break}if(a)e();else for(r=2;r<n;r+=2)if("addAttr"===o[r]){p=L2.sca(o[r+1]);break}}return i}function d(r){if(e(r)){if(0===r._html_.size)throw new Error("empty element list");if(x=$(r._html_._elmt(0)),"id"===p||"all"===p){if(L=x.attr("id"),!L)throw new Error("cannot add IDs - element printing to must have a (non-empty) ID")}else if("none"===p)p=void 0;else if(void 0!==p&&"class"!==p)throw new Error("argument must be one of: 'id' 'class' 'all' 'none' (default)")}}function u(e,r){var n,s,c,f,d,x,k,m,y,C,A,_,E,P,F,S,I,M,O,W=!1,D=!1,N=!1,R=[],$={},z=e.r*e.c;if(r&&(l="natural"),void 0===l||"natural"===l)e.p>1||e.pk||e.e&&e.e.pl?I=M=O=!0:((e.r>1||e.rk||e.e&&e.e.rl)&&(I=!0),(e.c>1||e.ck||e.e&&e.e.cl)&&(M=!0),I&&M&&(O=!1),!I&&!M&&e.v[0]instanceof L2.Box&&(I=!0));else if("all"===l)I=M=O=!0;else if("row"===l)I=!0;else if("col"===l)M=!0;else if("none"!==l)throw new Error("argument must be one of: 'row' 'col' 'none' 'all' 'natural' (default)");if(e.e&&($.r=e.e.rf&&e.rk,$.c=e.e.cf&&e.ck,$.p=e.e.pf&&e.pk,$.e=e.e.ef),E=a||!p||r?function(){return'<td class="L2Ent '}:"id"===p?function(){return'<td id="'+L+"_"+C+"_"+A+"_"+_+'" class="L2Ent '}:"class"===p?function(){return'<td class="L2Row_'+C+" L2Col_"+A+" L2Page_"+_+" L2Ent "}:function(){return'<td id="'+L+"_"+C+"_"+A+"_"+_+'" class="L2Row_'+C+" L2Col_"+A+"  L2Page_"+_+" L2Ent "},x=e.v.length,0===x||x>i||"show"===o){if(!a)throw 0===x?new Error("cannot print empty table"):new Error("cannot print table, number of entries > "+i);g+='<table class="L2Table show L2Other">',"show"!==o&&(g+='<tr><td colspan="2">'+(0===x?"Empty table":"Number of entries &gt; "+i)+"</td></tr>"),g+="<tr><td>entries:</td><td>"+e.v.length+"</td></tr>",g+="<tr><td>shape:</td><td>"+e.r+" "+e.c+" "+e.p+"</td></tr>",e.e&&(e.e.t&&(g+="<tr><td>title:</td><td>"+L2.aux.specChar(e.e.t)+"</td></tr>"),e.e.rl&&(g+="<tr><td>row label:</td><td>"+L2.aux.specChar(e.e.rl)+"</td></tr>"),e.e.cl&&(g+="<tr><td>column label:</td><td>"+L2.aux.specChar(e.e.cl)+"</td></tr>"),e.e.pl&&(g+="<tr><td>page label:</td><td>"+L2.aux.specChar(e.e.pl)+"</td></tr>"),e.e.i&&(g+="<tr><td>info:</td><td>"+L2.aux.specChar(e.e.i)+"</td></tr>")),R=[],e.rk&&R.push("row"),e.ck&&R.push("column"),e.pk&&R.push("page"),R.length>0&&(g+="<tr><td>keys:</td><td>"+R.join(", ")+"</td></tr>"),e.e&&(R=[],e.e.rf&&R.push("row"),e.e.cf&&R.push("column"),e.e.pf&&R.push("page"),e.e.ef&&R.push("entry"),R.length>0&&(g+="<tr><td>format:</td><td>"+R.join(", ")+"</td></tr>")),g+="</table>"}else{if(n=!1,"heat"===o){for(s=1/0,c=-(1/0),f=0,x=e.v.length;f<x&&(S=e.v[f],"number"==typeof S&&isFinite(S));f++)s=Math.min(s,S),c=Math.max(c,S);f===x&&(n=!0)}for(f=0,x=e.v.length;f<x&&(S=e.v[f],"number"!=typeof S||!isFinite(S)||Math.round(S)===S);f++);if(d=f===x?0:t,"none"!==l){if(e.e&&(I&&e.e.rl&&(W=L2.aux.specChar(e.e.rl)),M&&e.e.cl&&(D=L2.aux.specChar(e.e.cl)),O&&e.e.pl&&(N='<span class="L2PageLabel">'+L2.aux.specChar(e.e.pl)+": </span>")),O&&!N&&(N='<span class="L2Other">page: </span>'),I&&e.rk)if(k=new Array(e.r),e.e&&e.e.rf)for(f in e.rk)k[e.rk[f]]=L2.aux.specChar(String(e.e.rf(f)));else for(f in e.rk)k[e.rk[f]]=L2.aux.specChar(f);if(M&&e.ck)if(m=new Array(e.c),e.e&&e.e.cf)for(f in e.ck)m[e.ck[f]]=L2.aux.specChar(String(e.e.cf(f)));else for(f in e.ck)m[e.ck[f]]=L2.aux.specChar(f);if(O&&e.pk)if(y=new Array(e.p),e.e&&e.e.pf)for(f in e.pk)y[e.pk[f]]=L2.aux.specChar(String(e.e.pf(f)));else for(f in e.pk)y[e.pk[f]]=L2.aux.specChar(f)}for(a&&e.e&&e.e.t&&(g+='<div style="padding-top:5px">--- '+L2.aux.specChar(e.e.t)+" ---</div>"),_=0;_<e.p;_++){if(g+='<table class="L2Table">',M){for(g+="<tr>",void 0!==O&&(g+='<td class="L2TopLeft"',D&&(g+=' rowspan="2"'),W&&(g+=' colspan="2"'),g+=">",N&&(g+=N+'<span class="',g+=e.pk?"L2PageKey"+($.p?' L2Formatted">':'">')+y[_]+"</span>":'L2PageInd">'+_+"</span>"),g+="</td>"),D&&(g+='<td colspan="'+e.c+'" class="L2ColLabel">'+D+"</td></tr><tr>"),A=0;A<e.c;A++)g+='<td class="',g+=e.ck?"L2ColKey"+($.c?' L2Formatted">':'">')+m[A]+"</td>":'L2ColInd">'+A+"</td>";g+="</tr>"}for(g+="<tr>",I&&W&&(g+='<td rowspan="'+e.r+'" class="L2RowLabel">'+W+"</td>"),C=0;C<e.r;C++){if(I&&(g+='<td class="',g+=e.rk?"L2RowKey"+($.r?' L2Formatted">':'">')+k[C]+"</td>":'L2RowInd">'+C+"</td>"),n)for(A=0;A<e.c;A++)P=e.v[_*z+A*e.r+C],F=c===s?"rgba(104,17,17,0.9)":"rgba("+(17+Math.round((P-s)/(c-s)*173))+",17,17,0.9)",g+='<td style="text-align:right; background-color:'+F+'" >'+b(P,d)+"</td>";else for(A=0;A<e.c;A++){if(P=e.v[_*z+A*e.r+C],g+=E(),P instanceof L2.Box)g+='L2Box"',w?(g+=' data-L2-in-plot="'+h++ +'">',v.push([h-1,P._contents_])):(g+=">",u(P._contents_,!0));else{var B=L2.aux.typeL2(P);g+="L2"+B[0].toUpperCase()+B.slice(1)+($.e?' L2Formatted">':'">'),g+=$.e?L2.aux.specChar(String(e.e.ef(P))):"number"===B?b(P,d):"boolean"===B||"function"===B||"undefined"===B?String(P):""===P?'<span class="L2Other">Empty string</span>':L2.aux.specChar(String(P))}g+="</td>"}g+=C===e.r-1?"</tr>":"</tr><tr>"}g+="</table>"}a&&e.e&&e.e.i&&(g+='<div class="L2Other" style="padding-bottom:5px">'+L2.aux.specChar(e.e.i)+"</div>")}}function b(e,r){var a=Math.max(1,t);return 0!==e&&(Math.abs(e)>=n||Math.abs(e)<Math.pow(10,-a))?Number(e.toPrecision(a)).toExponential():e.toFixed(r)}if(!a&&("wp"!==L2.runningIn||"heat"===o||"show"===o))return s;var x,k,L,g="",v=[],w=Array.isArray(o);if(a?(w&&f(),x=L2.ide.currResults?L2.ide.currResults.eq(L2.ide.currResultsInd):$("#oput"),g+='<div class="indent">'):d(w?f():c),!x)return s;if(s instanceof L2.Ar)u(s);else if(s instanceof L2.Box)g+='<table class="L2Table"><tr><td class="L2Box">',u(s._contents_),g+="</td></tr></table>";else{var m=L2.aux.typeL2(s);g+='<span class="L2'+m[0].toUpperCase()+m.slice(1)+'">',g+="number"===m?b(s,Math.round(s)===s?0:t):"boolean"===m||"function"===m||"undefined"===m?String(s):""===s?'<span class="L2Other">Empty string</span>':L2.aux.specChar(String(s)),g+="</span>"}for(a?x.append(g+"</div><br>"):x.html(g);v.length>0;){if(k=v.pop(),r=$('[data-L2-in-plot="'+k[0]+'"]'),0===k[1].v.length)r.html('<span class="L2Other">Empty table, nothing plotted</span>');else try{L2.aux.plot.apply(null,[k[1]].concat(o))}catch(y){r.html('<span class="L2Other">Plot Error: '+y.message+"</span>")}r=void 0}return a&&!L2.ide.currResults&&$("#co_in").scrollTop(1e11).scrollLeft(0),s},L2.aux.plot=function(t,i,n){function u(e,r,a){if(e instanceof L2.Ar)for(var t=0;t<F.length;t++)F[t][r]||(F[t][r]={}),F[t][r].show=!0,F[t][r][a]=e.v[t%e.v.length];else L.series[r].show=!0,L.series[r][a]=e;"radius"===a?ae=!0:"points"!==r||ae||(L.series.points.radius=re,ae=!0)}function h(e,r){var a=r?"yaxis":"xaxis";L[a].axisLabel=e,L[a].axisLabelUseCanvas=!0,L[a].axisLabelFontFamily=Q,L[a].axisLabelFontSizePixels=Z,L[a].axisLabelColour=ee,L[a].axisLabelPadding=r?8:12}function b(e){if(!_)throw new Error("'error' option used - boxed data expected");for(var r,a,t=e instanceof L2.Ar,i=0;i<F.length;i++)r=t?e.v[i%e.v.length]:e,"string"==typeof r&&(a=r.toLowerCase(),"x"!==a&&"y"!==a&&"xy"!==a||(F[i].points||(F[i].points={}),F[i].points.errorbars=a,"x"!==r[0]&&"X"!==r[0]||(F[i].points.xerr={show:!0,radius:0,lineWidth:1.8,asymmetric:"X"===r[0]}),r=r.slice(-1),"y"!==r&&"Y"!==r||(F[i].points.yerr={show:!0,radius:0,lineWidth:1.8,asymmetric:"Y"===r})))}function x(e,i,s){function o(e){var r;F[e].showLabels=!0,F[e].canvasRender=!0,F[e].cColor=ee,F[e].cFont=Z+"px "+Q,F[e].cPadding=3,r=z instanceof L2.Ar?z.v[e%z.v.length]:z,F[e].labelPlacement="top"===r?"above":"bottom"===r?"below":r}function u(e,r){$("#L2Plot_"+(d-1)).on("plot"+e,function(e,a,t){t?r(L2.sc.pairMult("x",Number(a.x),"y",Number(a.y),"xPos",Number(a.pageX),"yPos",Number(a.pageY),"xData",Number(t.datapoint[0]),"yData",Number(t.datapoint[1]),"rowIndex",Number(t.dataIndex),"seriesIndex",Number(t.seriesIndex),"seriesName","label"in t.series?String(t.series.label):void 0),!0):r(L2.sc.pairMult("x",Number(a.x),"y",Number(a.y),"xPos",Number(a.pageX),"yPos",Number(a.pageY)),!1)})}var h,b,x,g,v,w,C,A;if(s){for(h=0;h<F.length;h++){if(v=e.v[h]._contents_,F[h].data=new Array(v.r),n)for(b=0;b<v.r;b++)for(F[h].data[b]=new Array(v.c),g=0,x=b;x<v.v.length;x+=v.r)F[h].data[b][g++]=v.v[x];else for(b=0;b<v.r;b++)for(F[h].data[b]=new Array(v.c+1),F[h].data[b][0]=b,g=1,x=b;x<v.v.length;x+=v.r)F[h].data[b][g++]=v.v[x];if(N[h])if(v.rk){if(F[h].labels=new Array(v.r),v.e&&v.e.rf)for(b in v.rk)F[h].labels[v.rk[b]]=v.e.rf(b);else for(b in v.rk)F[h].labels[v.rk[b]]=b;o(h)}else F[h].labels=void 0;if(0===h){if("key"===V)if(v.rk){L.xaxis.ticks=new Array(v.r);for(b in v.rk)w=v.rk[b],v.e&&v.e.rf?L.xaxis.ticks[w]=[n?v.v[w]:w,L2.aux.specChar(String(v.e.rf(b)))]:L.xaxis.ticks[w]=[n?v.v[w]:w,L2.aux.specChar(b)]}else L.xaxis.ticks=null;else if("val"===V)for(L.xaxis.ticks=new Array(v.r),b=0;b<v.r;b++)L.xaxis.ticks[b]=n?v.v[b]:b;else L.xaxis.ticks=V;if("val"===j)for(L.yaxis.ticks=new Array(v.r),b=0;b<v.r;b++)L.yaxis.ticks[b]=n?v.v[b+v.r]:v.v[b];else L.yaxis.ticks=j}}if(e.rk)if(C=new Array(e.r),k.r)for(b in e.rk)C[e.rk[b]]=e.e.rf(b);else for(b in e.rk)C[e.rk[b]]=b;if(e.ck)if(A=new Array(e.c),k.c)for(b in e.ck)A[e.ck[b]]=e.e.cf(b);else for(b in e.ck)A[e.ck[b]]=b;if(F.length>1||e.rk||e.ck)for(H?(v=e.e&&e.e.rl?[!0,e.e.rl+": "]:[!1,"row: "],w=e.e&&e.e.cl?[!0,e.e.cl+": "]:[!1,"column: "]):(v=[!1,""],w=[!1,""]),h=0;h<F.length;h++)R[h]&&(e.ck||e.c>1?(F[h].label=v[1]+(e.rk?C[h%e.r]:h%e.r),F[h].label+=", "+w[1]+(e.ck?A[Math.floor(h/e.r)]:Math.floor(h/e.r))):F[h].label=e.rk?(v[0]?v[1]:"")+C[h%e.r]:v[1]+h%e.r)}else{if(e.rk)for(h=0;h<F.length;h++)if(N[h]){if(!C)if(C=new Array(e.r),k.r)for(b in e.rk)C[e.rk[b]]=e.e.rf(b);else for(b in e.rk)C[e.rk[b]]=b;F[h].labels=C,o(h)}if("key"===V)if(e.rk){L.xaxis.ticks=new Array(e.r);for(b in e.rk)w=e.rk[b],k.r?L.xaxis.ticks[w]=[n?e.v[w]:w,L2.aux.specChar(String(e.e.rf(b)))]:L.xaxis.ticks[w]=[n?e.v[w]:w,L2.aux.specChar(b)]}else L.xaxis.ticks=null;else if("val"===V)for(L.xaxis.ticks=new Array(e.r),b=0;b<e.r;b++)L.xaxis.ticks[b]=n?e.v[b]:b;else L.xaxis.ticks=V;if("val"===j)for(L.yaxis.ticks=new Array(e.r),b=0;b<e.r;b++)L.yaxis.ticks[b]=n?e.v[b+e.r]:e.v[b];else L.yaxis.ticks=j;if(n){for(h=0;h<F.length;h++)for(F[h].data=new Array(e.r),b=0;b<e.r;b++)F[h].data[b]=[e.v[b],e.v[b+(h+1)*e.r]];if(w=H?e.e&&e.e.cl?[!0,e.e.cl+": "]:[!1,"column: "]:[!1,""],e.ck)for(h in e.ck)v=e.ck[h],0!==v&&R[v-1]&&(F[v-1].label=(w[0]?w[1]:"")+(k.c?e.e.cf(h):h));else if(e.c>2)for(h=0;h<F.length;h++)R[h]&&(F[h].label=w[1]+(h+1))}else{for(h=0;h<e.c;h++)for(F[h].data=new Array(e.r),b=0;b<e.r;b++)F[h].data[b]=[b,e.v[b+h*e.r]];if(w=H?e.e&&e.e.cl?[!0,e.e.cl+": "]:[!1,"column: "]:[!1,""],e.ck)for(h in e.ck)v=e.ck[h],R[v]&&(F[v].label=(w[0]?w[1]:"")+(k.c?e.e.cf(h):h));else if(e.c>1)for(h=0;h<F.length;h++)R[h]&&(F[h].label=w[1]+h)}}y?(L.grid.margin=8,m--,L2.ide.data[m]=F,L2.ide.plotOps[m]=L,$("#pl_"+m).plot(F,L)):(v="",a&&!r&&(v+='<div class="indent">'),q&&(v+='<div class="L2PageInfo">'+q+(t.pk?U[i]:'<span class="L2Other">'+i+"</span>")+"</div>"),v+='<div id="L2Plot_'+d++ +'" class="L2Plot" style="width:'+(S||(r?p:l))+"px; height:"+(I||(r?f:c))+'px"></div>',r?r.append(v):a?J.append(v+"</div><br>"):m.append(v),$("#L2Plot_"+(d-1)).plot(F,L),a||(W&&u("hover",W),D&&u("click",D)))}if(0===t.v.length)return a&&$("#oput").append('<div class="noIndent L2Other">Empty table, nothing plotted</div><br>'),t;var k,L,g,v,w,m,y,C,A,_,E,P,F,S,I,M,O,W,D,N,R,z,B,T,K,G,X,Y,q,U,V,j,H,J,Q="Arial, sans-serif",Z=12,ee="#ddd",re=3,ae=!1,te="natural";if(a&&!r&&(J=L2.ide.currResults?L2.ide.currResults.eq(L2.ide.currResultsInd):$("#oput")),t.v[0]instanceof L2.Box){for(E=0;E<t.v.length;E++){if(!(t.v[E]instanceof L2.Box))throw new Error("box expected");if(v=t.v[E]._contents_,v.v.length>s)throw new Error("number of entries in box > "+s);if(1!==v.p)throw new Error("boxed data, 1-page table expected");if(n&&v.c<2)throw new Error("at least two columns expected");if(!n&&0===v.c)throw new Error("at least one column expected");for(P=0;P<v.v.length;P++)if("number"!=typeof v.v[P]||!isFinite(v.v[P]))throw new Error("finite number expected");F=new Array(t.r*t.c)}_=!0}else{if(t.v.length>s)throw new Error("number of entries > "+s);for(E=0;E<t.v.length;E++)if("number"!=typeof t.v[E]||!isFinite(t.v[E]))throw new Error("finite number expected");if(n){if(t.c<2)throw new Error("at least 2 columns expected");F=new Array(t.c-1)}else F=new Array(t.c)}for(N=new Array(F.length),R=new Array(F.length),E=0;E<F.length;E++)F[E]={},R[E]=!0;if(k={},t.e&&(k.r=t.e.rf,k.c=t.e.cf,k.p=t.e.pf),L={series:{lines:{show:"l"===i,lineWidth:2},points:{show:"p"===i,lineWidth:0,radius:"p"===i?(ae=!0,re):0,fill:1,fillColor:null},bars:{show:"b"===i,align:"center",barWidth:.7,lineWidth:0,fill:.6},shadowSize:0,hoverable:!1,clickable:!1},xaxis:{show:!0,color:"#333"},yaxis:{show:!0,color:"#333"},grid:{show:!0,borderColor:"#aaa",borderWidth:1,hoverable:!1,clickable:!1},colors:o,legend:{show:!0,margin:[4,4],labelBoxBorderColor:"rgba(0,0,0,0)",backgroundOpacity:0}},g=arguments.length,m=0,H=!1,g>3){if(4===g){if(T=arguments[3],!T.rk||1!==T.c||1!==T.p)throw new Error("dictionary expected");G=T.v.length,K=new Array(T.v.length);for(E in T.rk)K[T.rk[E]]=E}else G=(g-3)/2;for(C={},E=0;E<G;E++){if(T?(A=K[E],B=T.v[E],B instanceof L2.Box&&(B=B._contents_)):(A=String(arguments[2*E+3]),B=arguments[2*E+4]),A in C)throw new Error("repeated option");switch(A){case"linePen":u(B,"lines","lineWidth");break;case"lineFill":u(B,"lines","fill");break;case"lineFillColor":u(B,"lines","fillColor");break;case"pointRadius":u(B,"points","radius");break;case"pointFill":u(B,"points","fill");break;case"pointFillColor":u(B,"points","fillColor");break;case"pointPen":u(B,"points","lineWidth");break;case"barWidth":u(B,"bars","barWidth");break;case"barFill":u(B,"bars","fill");break;case"barFillColor":u(B,"bars","fillColor");break;case"barPen":u(B,"bars","lineWidth");break;case"barAlign":u(B,"bars","align");break;case"pointSymbol":if(v=["square","diamond","triangle","cross"],B instanceof L2.Ar)for(w=new L2.ArJSA(new Array(B.v.length)),P=0;P<w.v.length;P++)v.indexOf(B.v[P])!==-1&&(w.v[P]=B.v[P]);else w=v.indexOf(B)===-1?void 0:B;u(w,"points","symbol");break;case"color":L.colors=B instanceof L2.Ar?B.v:[B];break;case"pin":if(B instanceof L2.Ar)for(P=0;P<F.length;P++)N[P]=B.v[P%B.v.length];else for(P=0;P<F.length;P++)N[P]=B;break;case"pinAt":z=B;break;case"legend":if(B instanceof L2.Ar)for(P=0;P<F.length;P++)R[P]=B.v[P%B.v.length];else for(P=0;P<F.length;P++)R[P]=B;break;case"error":b(B);break;default:switch(B instanceof L2.Ar&&(B=B.v[0]),A){case"xMin":L.xaxis.min=B;break;case"xMax":L.xaxis.max=B;break;case"yMin":L.yaxis.min=B;break;case"yMax":L.yaxis.max=B;break;case"xTick":V=B;break;case"yTick":j=B;break;case"xStep":L.xaxis.tickSize=B;break;case"yStep":L.yaxis.tickSize=B;break;case"xFmt":if("function"!=typeof B)throw new Error("'xFmt' must be a function");X=B,L.xaxis.tickFormatter=function(e){return L2.aux.specChar(String(L2.sca(X(e))))};break;case"yFmt":if("function"!=typeof B)throw new Error("'yFmt' must be a function");Y=B,L.yaxis.tickFormatter=function(e){return L2.aux.specChar(String(L2.sca(Y(e))))};break;case"xDP":L.xaxis.tickDecimals=B;break;case"yDP":L.yaxis.tickDecimals=B;break;case"legendAt":L.legend.position=B;break;case"legendColumn":L.legend.noColumns=B;break;case"legendDetail":H=B;break;case"xAt":L.xaxis.position=B;break;case"yAt":L.yaxis.position=B;break;case"xAxis":L.xaxis.show=B;break;case"yAxis":L.yaxis.show=B;break;case"xGrid":L.xaxis.tickLength=B?void 0:0;break;case"yGrid":L.yaxis.tickLength=B?void 0:0;break;case"xGridColor":L.xaxis.color=B;break;case"yGridColor":L.yaxis.color=B;break;case"backgroundColor":L.grid.backgroundColor=B;break;case"borderColor":L.grid.borderColor=B;break;case"borderWidth":L.grid.borderWidth=B;break;case"width":S=B;break;case"height":I=B;break;case"xLabel":M=B;break;case"yLabel":O=B;break;case"pageInfo":if(te=B,"natural"!==te&&"show"!==te&&"none"!==te)throw new Error("'pageInfo' must be one of: 'show' 'none' 'natural' (default)");break;case"fontSize":Z=B;break;case"fontColor":ee=B;break;case"fontFamily":Q=B;break;case"put":if(a){if(1==B||2==B||3==B||4==B){if(1!==t.p)throw new Error("cannot plot multi-page tables in plot pane");m=Number(B),y=!0}}else{if(!e(B))return t;if(0===B._html_.size)throw new Error("empty element list");m=$(B._html_._elmt(0))}break;case"hover":if(!a){if(L.series.hoverable=L.grid.hoverable=!0,"function"!=typeof B)throw new Error("'hover' must be a function");W=B}break;case"click":if(!a){if(L.series.clickable=L.grid.clickable=!0,"function"!=typeof B)throw new Error("'click' must be a function");D=B}break;case"printDetail":break;case"addAttr":break;default:throw new Error("invalid plot option: '"+A+"'")}}C[A]=!0}B=void 0}if(!a&&!m)return t;if(L.xaxis.font={color:ee,size:Z,family:Q},L.yaxis.font={color:ee,size:Z,family:Q},L.legend.labelFormatter=function(e){return'<div style="font-family:'+Q+"; font-size:"+Z+"px; color:"+ee+'">'+L2.aux.specChar(String(e))+"</div>"},M&&h(M),O&&h(O,!0),("show"===te||"natural"===te&&(t.p>1||t.pk||t.e&&t.e.pl))&&(q='<span class="',q+=(t.e&&t.e.pl?'L2PageLabel">'+L2.aux.specChar(t.e.pl):'L2Other">page')+": </span>",t.pk))if(U=new Array(t.p),k.p)for(E in t.pk)U[t.pk[E]]='<span class="L2PageKey L2Formatted">'+L2.aux.specChar(String(t.e.pf(E)))+"</span>";else for(E in t.pk)U[t.pk[E]]='<span class="L2PageKey">'+L2.aux.specChar(E)+"</span>";if(a&&t.e&&t.e.t&&!y&&(r?r.append('<div style="padding: 5px 0px 5px 5px">--- '+L2.aux.specChar(t.e.t)+" ---</div>"):J.append('<div style="padding:10px 0px 0px 15px">--- '+L2.aux.specChar(t.e.t)+" ---</div>")),1===t.p)x(t,0,_);else for(E=0;E<t.p;E++)x(t._oneDimSc("p",E),E,_);return a&&!y&&(t.e&&t.e.i&&(r?r.append('<div class="L2Other" style="padding: 0px 0px 5px 5px">'+L2.aux.specChar(t.e.i)+"</div>"):J.append('<div class="L2Other" style="padding: 0px 0px 5px 15px">'+L2.aux.specChar(t.e.i)+"</div>")),r||!a||L2.ide.currResults||$("#co_in").scrollTop(1e11).scrollLeft(0)),t},L2.aux.vg=function(r,t,i){var n,s;if(!L2.ge.isDict(r))throw new Error("dictionary expected");if(a)$("#oput").append('<div class="L2VegaWrapper"><div id="vegaPlot_'+u++ +'"></div></div><br>'),n="vegaPlot_"+(u-1);else{if(!e(t))return r;if(0===t._html_.size)throw new Error("empty element list");if(n=t._html_._elmt(0).getAttribute("id"),!n)throw new Error("element that printing to must have an ID")}return s=L2.toJS(r),"L"===i?s={spec:s,actions:!1,mode:"vega-lite"}:"E"===i?"actions"in s||(s.actions=!1):s={spec:s,actions:!1},vg.embed("#"+n,s,function(e,r){e&&(a&&$("#oput").append('<div class="noIndent L2Other">Problem drawing Vega plot:<br>'+L2.aux.specChar(e.message)+"</div><br>"),console.log("Problem drawing Vega plot:\n"+e.message)),a&&$("#co_in").scrollTop(1e11).scrollLeft(0)}),r}});